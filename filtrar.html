<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>游뚵ITS rigel</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">    <style>
      table {
        width: 100%;
        border-collapse: collapse;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        font-size: 14px;
        margin-top: 20px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      }
      thead {
        background-color: #0078D4;
        color: white;
      }
      th, td {
        padding: 12px 15px;
        text-align: left;
        border-bottom: 1px solid #ddd;
      }
      /* Estilos para los inputs de filtro */
      .tr-filtros th {
        background-color: #f8f9fa;
        padding: 5px;
      }
      .input-filtro {
        width: 100%;
        box-sizing: border-box;
        border: 1px solid #ccc;
        border-radius: 4px;
        padding: 4px;
        font-size: 12px;
        color: #333;
      }
      tbody tr:hover { background-color: #f1f1f1; }
      tbody tr:nth-child(even) { background-color: #f9f9f9; }
    </style>
  </head>
  <body style="font-size: 10px">
    <nav class="nav nav-tabs mb-3 bg-light container">
      <a class="nav-item nav-link" href="./index.html">Tabla</a>
      <a class="nav-item nav-link" href="./dashboard.html">DashBoard</a>
      <a class="nav-item nav-link" href="./extrae-txt.html">Extrae-txt</a>
      <a class="nav-item nav-link active" href="./filtrar.html">Filtrar</a>
    </nav>


    <div class="container-lg">
      <table>
        <thead>
          <tr>
            <th>#</th>
            <th>Sistema</th>
            <th>Veh칤culo</th>
            <th>Descripci칩n</th>
            <th>Fecha</th>
            <th>D칤as Fuera</th>
            <th>Estado</th>
            <th>Ruta</th>
            <th>Distancia(km)/Mapa</th>
          </tr>
          <tr class="tr-filtros">
            <th></th> <!-- ID no suele filtrarse -->
            <th><input type="text" class="input-filtro" placeholder="Filtrar..." onkeyup="filtrarColumnas()"></th>
            <th><input type="text" class="input-filtro" placeholder="Filtrar..." onkeyup="filtrarColumnas()"></th>
            <th><input type="text" class="input-filtro" placeholder="Filtrar..." onkeyup="filtrarColumnas()"></th>
            <th><input type="text" class="input-filtro" placeholder="Filtrar..." onkeyup="filtrarColumnas()"></th>
            <th><input type="text" class="input-filtro" placeholder="Filtrar..." onkeyup="filtrarColumnas()"></th>
            <th><input type="text" class="input-filtro" placeholder="Filtrar..." onkeyup="filtrarColumnas()"></th>
            <th><input type="text" class="input-filtro" placeholder="Filtrar..." onkeyup="filtrarColumnas()"></th>
            <th><input type="text" class="input-filtro" placeholder="Filtrar..." onkeyup="filtrarColumnas()"></th>
          </tr>
        </thead>
        <tbody id="tablaEnriquecida">
          <!-- Los datos din치micos de filtrar.js entrar치n aqu칤 -->
        </tbody>
      </table>
      <div id="loader" class="text-center mt-5">Cargando datos...</div>
    </div>


    <!-- Tu archivo JS original que carga los datos -->
    <script src="filtrar.js"></script>


    <script>
      /**
       * Funci칩n de filtrado multidireccional
       * Lee todos los inputs y oculta las filas que no coincidan
       */
      function filtrarColumnas() {
        const tabla = document.getElementById("tablaEnriquecida");
        const filas = tabla.getElementsByTagName("tr");
        const inputs = document.querySelectorAll(".input-filtro");


        for (let i = 0; i < filas.length; i++) {
          let coincidenTodos = true;
          const celdas = filas[i].getElementsByTagName("td");


          // Iteramos por cada input de filtro (empezando en la celda 1 para saltar el '#')
          inputs.forEach((input, index) => {
            const valorFiltro = input.value.toUpperCase();
            const celda = celdas[index + 1];
           
            if (celda) {
              const textoCelda = celda.textContent || celda.innerText;
              if (textoCelda.toUpperCase().indexOf(valorFiltro) === -1) {
                coincidenTodos = false;
              }
            }
          });


          filas[i].style.display = coincidenTodos ? "" : "none";
        }
      }
    </script>
  </body>
</html>

