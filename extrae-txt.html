<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>txt</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx"
      crossorigin="anonymous"
    />
      <title>Separador de campos por ":"</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    textarea { width: 100%; min-height: 220px; margin-bottom: 10px; padding: 8px; }
    button { padding: 10px 15px; margin-right: 10px; }
  </style>
  </head>
  <body style="font-size: 10px">
    <!-- navbar -->
    <nav class="nav nav-tabs mb-3 bg-light container">
      <a class="nav-item nav-link active" href="#">Tabla</a>
      <a class="nav-item nav-link" href="./dashboard.html">DashBoard</a>
      <a class="nav-item nav-link" href="./extrae-txt.html">extrae-txt</a>
      <a class="nav-item nav-link" href="./index2.html">Tabla-Filtro</a>
    </nav>
    <!-- fin navbar -->

  <h2>Procesar texto con formato "Etiqueta: valor"</h2>

  <label>Texto de entrada:</label>
  <textarea id="input" placeholder="Pega aquí tu texto con campos separados por ':'"></textarea>

  <div>
    <button onclick="procesar()">Procesar</button>
    <button onclick="copiar()">Copiar resultado</button>
    <button onclick="limpiar()">Limpiar</button>
  </div>

  <label>Resultado:</label>
  <textarea id="output" readonly placeholder="Aquí aparecerá el texto separado"></textarea>

  <script>
    function procesar(texto) {
      // Busca todas las ocurrencias de "Etiqueta: valor"
      const regex = /([\p{L}\p{M}\s\-]+):\s*([^/]+)(?=\/|$)/gu;
      const matches = [...texto.matchAll(regex)];

      const resultado = matches.map(m => `${m[1].trim()}: ${m[2].trim()}`).join("\n");
      document.getElementById("output").value = resultado;
    }

    // Procesa automáticamente cada vez que el campo cambia
    document.getElementById("input").addEventListener("input", (event) => {
      const texto = event.target.value;
      if (texto.length > 0) {
        procesar(texto);
      } else {
        document.getElementById("output").value = "";
      }
    });
  </script>
    <script src="index.js"></script>
  </body>
</html>
